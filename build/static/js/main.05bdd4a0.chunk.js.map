{"version":3,"sources":["services/persons.js","components/Notification.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Notification","_ref","message","color","messageStyle","marginBottom","border","borderRadius","backgroundColor","padding","textAlign","react_default","a","createElement","style","Filter","search","handleSearch","type","value","onChange","PersonForm","addPerson","name","number","addName","addNumber","onSubmit","required","Person","person","removePerson","paddingBottom","onClick","marginLeft","Persons","persons","listStyle","paddingLeft","map","components_Person","key","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newSearch","setNewSearch","_useState9","_useState10","setMessage","_useState11","_useState12","setColor","useEffect","personService","initialPersons","catch","error","showMessage","personsToShow","filter","personName","toLowerCase","searchTerm","match","changeNumber","window","confirm","changedPerson","objectSpread","returnedPerson","content","setTimeout","components_Notification","components_Filter","e","target","components_PersonForm","event","preventDefault","personObject","samePersonSameNumber","some","samePerson","find","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.05bdd4a0.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ message, color }) => {\n    const messageStyle = {\n        marginBottom: 25,\n        border: '2px solid ' + color,\n        borderRadius: 7,\n        backgroundColor: 'rgba(220, 220, 220, 0.3)',\n        padding: 10,\n        textAlign: 'center',\n        color: color,\n    }\n\n    if (message === null) {\n        return null\n    }\n    \n    return(\n        <div style={messageStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Filter = ({ search, handleSearch }) => {\n    return (\n        <label>\n            Search: \n            <input type='text'\n                   value={search}\n                   onChange={handleSearch}\n            />\n        </label>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ addPerson, name, number, addName, addNumber }) => {\n  return(\n    <form onSubmit={addPerson}>\n      <div>\n        <label>\n          Name:\n          <input type='text'\n                 value={name} \n                 onChange={addName}\n                 required\n          />\n        </label>\n      </div>\n      \n      <div>\n        <label>\n          Number:\n          <input type='text'\n                 value={number} \n                 onChange={addNumber}\n                 required\n          />\n        </label>\n      </div>\n\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n    const buttonStyle = {\n        marginLeft: 10\n    }\n\n    return(\n        <li style={{ paddingBottom: 10 }}>\n            {person.name}: {person.number}\n\n            <button onClick={() => removePerson(person.id, person.name)}\n                    style={buttonStyle}>\n                Delete\n            </button>\n        </li>\n    )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, removePerson }) => {\n  const listStyle = {\n    listStyle: 'none',\n    paddingLeft: 0 \n  }\n\n  const rows = () => (\n    persons.map(person => \n      <Person key={person.id}\n              person={person}\n              removePerson={removePerson}\n      />\n    )\n  )\n  \n  return <ul style={listStyle}>{rows()}</ul>\n}\n\nexport default Persons\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ color, setColor ] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        showMessage(`Phonebook unavailable`, 'red')\n      })    \n  }, [])\n\n  const personsToShow = newSearch === ''\n  ? persons\n  : persons.filter(person => {\n    let personName = person.name.toLowerCase()\n    let searchTerm = newSearch.toLowerCase()\n\n    return personName.match(searchTerm)  \n  })\n\n  const addPerson = event => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const samePersonSameNumber = persons.some(\n      person => person.name === newName && person.number === newNumber\n    )\n\n    const samePerson = persons.find(person => person.name === newName)\n    \n    if (samePersonSameNumber) {\n      showMessage(`${newName} has already been added to phonebook`, 'green')\n    } else if (samePerson) {\n      changeNumber(samePerson, newNumber)\n    } else {\n      personService\n      .create(personObject)\n      .then(returnedPerson => {\n        showMessage(`${personObject.name} has been added to phonebook`, 'green')\n        setPersons(persons.concat(returnedPerson))\n      })\n      .catch(error => {\n        let message = error.response.data\n        showMessage(message.error, 'red')\n      }) \n    }\n    \n    setNewName('')\n    setNewNumber('')\n    setNewSearch('')\n  }\n\n  const changeNumber = (person, number) => {\n    const confirmChangeNumber = window.confirm(\n      `${person.name} has already been added to phonebook, replace the old number with a new one?`\n    )\n\n    if (confirmChangeNumber) {\n      const id = person.id\n      const changedPerson = { ...person, number: number }\n\n      personService\n      .update(id, changedPerson)\n      .then(returnedPerson => {\n        showMessage(`${changedPerson.name}'s number has been updated`, 'green')\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n      })\n      .catch(error => {\n        showMessage(`${changedPerson.name} has already been removed form phonebook`, 'red')\n        setPersons(persons.filter(person => person.id !== id))\n      })    \n    }\n  }\n\n  const removePerson = (id, name) => {\n    const confirmRemovePerson = window.confirm(`Delete ${name}?`)\n\n    if (confirmRemovePerson) {\n      personService\n        .remove(id)\n        .then(() => {\n          showMessage(`${name} has been deleted from phonebook`, 'green')  \n          setPersons(persons.filter(person => person.id !== id))\n        })\n        .catch(error => {\n          showMessage(`Attempt failed`, 'red')\n        }) \n    }\n  }\n\n  const showMessage = (content, color) => {\n    setMessage(content)\n    setColor(color)\n\n    setTimeout(() => {\n      setMessage(null)\n      setColor('')\n    }, 5000)   \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} color={color} />\n\n      <Filter search={newSearch} \n              handleSearch={e => setNewSearch(e.target.value)} \n      />\n\n      <h2>Add new person</h2>\n\n      <PersonForm addPerson={addPerson}\n                  name={newName} \n                  number={newNumber} \n                  addName={e => setNewName(e.target.value)} \n                  addNumber={e => setNewNumber(e.target.value)}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons persons={personsToShow}\n               removePerson={removePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}